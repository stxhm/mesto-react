(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(4),c=n.n(r),o=(n(11),n(2)),i=n.p+"static/media/logo.03b78ada.svg",l=n(0);var p=function(){return Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("img",{className:"header__logo",src:i,alt:"\u043b\u043e\u0433\u043e"})})},u=n(5),d=n(6),_=new(function(){function e(t){var n=this;Object(u.a)(this,e),this.setAvatar=function(e){return fetch("".concat(n._url,"/users/me/avatar"),{method:"PATCH",headers:n._headers,body:JSON.stringify({avatar:e.link})}).then(n._handleResponse)},this.getUserInfo=function(){return fetch("".concat(n._url,"/users/me"),{headers:n._headers}).then(n._handleResponse)},this.setUserInfo=function(e){return fetch("".concat(n._url,"/users/me"),{method:"PATCH",headers:n._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(n._handleResponse)},this.getCards=function(){return fetch("".concat(n._url,"/cards"),{headers:n._headers}).then(n._handleResponse)},this.getInitialData=function(){return Promise.all([n.getUserInfo(),n.getCards()])},this.setCard=function(e){return fetch("".concat(n._url,"/cards"),{method:"POST",headers:n._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(n._handleResponse)},this.deleteCard=function(e){return fetch("".concat(n._url,"/cards/").concat(e),{method:"DELETE",headers:n._headers}).then(n._handleResponse)},this.setLike=function(e){return fetch("".concat(n._url,"/cards/likes/").concat(e),{method:"PUT",headers:n._headers}).then(n._handleResponse)},this.deleteLike=function(e){return fetch("".concat(n._url,"/cards/likes/").concat(e),{method:"DELETE",headers:n._headers}).then(n._handleResponse)},this._url=t.baseUrl,this._headers=t.headers}return Object(d.a)(e,[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject(e.status)}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-26",headers:{authorization:"e7f3e8e1-45dc-42a8-aa6f-a9dfa39b7b98","Content-Type":"application/json"}});var j=function(e){var t=e.card,n=e.onCardClick;return Object(l.jsxs)("li",{className:"card",children:[Object(l.jsx)("img",{className:"card__image",src:t.link,alt:t.name,onClick:function(){return n(t)}}),Object(l.jsx)("button",{className:"card__delete",type:"button"}),Object(l.jsxs)("div",{className:"card__name",children:[Object(l.jsx)("h2",{className:"card__title",children:t.name}),Object(l.jsxs)("div",{className:"card__like-container",children:[Object(l.jsx)("button",{className:"card__like",type:"button"}),Object(l.jsx)("span",{className:"card__like-counter",children:t.likes.length})]})]})]})};var m=function(e){var t=e.onEditAvatar,n=e.onEditProfile,a=e.onAddPlace,r=e.onCardClick,c=s.a.useState(""),i=Object(o.a)(c,2),p=i[0],u=i[1],d=s.a.useState(""),m=Object(o.a)(d,2),h=m[0],b=m[1],O=s.a.useState(""),f=Object(o.a)(O,2),x=f[0],N=f[1],v=s.a.useState([]),C=Object(o.a)(v,2),k=C[0],g=C[1];return s.a.useEffect((function(){_.getUserInfo().then((function(e){u(e.name),b(e.about),N(e.avatar)})).catch((function(e){return console.log(e)}))}),[]),s.a.useEffect((function(){_.getCards().then((function(e){g(e)})).catch((function(e){return console.log(e)}))}),[]),Object(l.jsxs)("main",{className:"content",children:[Object(l.jsxs)("section",{className:"profile",children:[Object(l.jsx)("img",{src:x,alt:"\u0430\u0432\u0430\u0442\u0430\u0440",className:"profile__avatar"}),Object(l.jsx)("button",{className:"profile__avatar-button",onClick:t}),Object(l.jsxs)("div",{className:"profile__info",children:[Object(l.jsx)("h1",{className:"profile__name",children:p||"Jacques Cousteau"}),Object(l.jsx)("button",{className:"profile__edit",type:"button",onClick:n}),Object(l.jsx)("p",{className:"profile__about",children:h||"Sailor, researcher"})]}),Object(l.jsx)("button",{className:"profile__add-button",type:"button",onClick:a})]}),Object(l.jsx)("ul",{className:"cards",children:k.map((function(e){return Object(l.jsx)(j,{card:e,onCardClick:r},e._id)}))})]})};var h=function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsx)("p",{className:"footer__copyright",children:"\xa9 2020 Mesto Russia"})})};var b=function(e){return Object(l.jsx)("div",{className:"popup popup_type_".concat(e.name," ").concat(e.isOpen?"popup_opened":""),children:Object(l.jsxs)("div",{className:"popup__container",children:[Object(l.jsx)("button",{type:"button",className:"popup__close","aria-label":"\u0437\u0430\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u043f\u0430\u043f",onClick:e.onClose}),Object(l.jsx)("h2",{className:"popup__title",children:e.title}),Object(l.jsxs)("form",{onSubmit:e.onSubmit,className:"popup__form",name:e.name,noValidate:!0,children:[e.children,Object(l.jsx)("button",{className:"popup__button",type:"submit",children:e.submitText})]})]})})};var O=function(e){var t=e.isOpen,n=e.onClose;return Object(l.jsxs)(b,{name:"editavatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",submitText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,children:[Object(l.jsx)("input",{className:"popup__input popup__input_type_link",type:"url",name:"link",autoComplete:"off",id:"avatarlink",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),Object(l.jsx)("span",{className:"popup__error popup__error_hidden",id:"avatarlink-error"})]})};var f=function(e){var t=e.isOpen,n=e.onClose;return Object(l.jsxs)(b,{name:"editprofile",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",submitText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,children:[Object(l.jsx)("input",{className:"popup__input popup__input_type_name",id:"name-profile",type:"text",name:"name",placeholder:"\u0418\u043c\u044f",minLength:"2",maxLength:"40",required:!0}),Object(l.jsx)("span",{className:"popup__error popup__error_hidden",id:"name-profile-error"}),Object(l.jsx)("input",{className:"popup__input popup__input_type_about",id:"about",type:"text",name:"about",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",minLength:"2",maxLength:"200",required:!0}),Object(l.jsx)("span",{className:"popup__error popup__error_hidden",id:"about-error"})]})};var x=function(e){var t=e.isOpen,n=e.onClose;return Object(l.jsxs)(b,{name:"newcard",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",submitText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",isOpen:t,onClose:n,children:[Object(l.jsx)("input",{className:"popup__input popup__input_type_card-name",id:"name-card",type:"text",name:"name",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",minLength:"2",maxLength:"30",required:!0}),Object(l.jsx)("span",{className:"popup__error popup__error_hidden",id:"name-card-error"}),Object(l.jsx)("input",{className:"popup__input popup__input_type_link",id:"link",type:"url",name:"link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),Object(l.jsx)("span",{className:"popup__error popup__error_hidden",id:"link-error"})]})};var N=function(e){var t=e.title,n=e.buttonText,a=e.isOpen,s=e.onClose,r=e.onSubmit;return Object(l.jsx)(b,{name:"confirm",title:t,buttonText:n,isOpen:a,onClose:s,onSubmit:r})};var v=function(e){var t=e.card,n=e.onClose;return Object(l.jsx)("div",{className:"popup popup-image ".concat(t.link&&"popup_opened"),children:Object(l.jsxs)("div",{className:"popup-image__container",children:[Object(l.jsx)("button",{className:"popup__close",type:"button",onClick:n}),Object(l.jsx)("img",{className:"popup-image__image",src:t.link,alt:t.name}),Object(l.jsx)("p",{className:"popup-image__name",children:t.name})]})})};var C=function(){var e=s.a.useState(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],r=s.a.useState(!1),c=Object(o.a)(r,2),i=c[0],u=c[1],d=s.a.useState(!1),_=Object(o.a)(d,2),j=_[0],b=_[1],C=s.a.useState(!1),k=Object(o.a)(C,2),g=k[0],y=k[1],S=s.a.useState({name:"",link:""}),T=Object(o.a)(S,2),E=T[0],L=T[1];function P(){a(!1),u(!1),b(!1),L({name:"",link:""}),y(!1)}return Object(l.jsxs)("div",{className:"page",children:[Object(l.jsx)(p,{}),Object(l.jsx)(m,{onEditAvatar:function(){a(!n)},onEditProfile:function(){u(!i)},onAddPlace:function(){b(!j)},onCardClick:L}),Object(l.jsx)(O,{isOpen:n,onClose:P}),Object(l.jsx)(f,{isOpen:i,onClose:P}),Object(l.jsx)(x,{isOpen:j,onClose:P}),Object(l.jsx)(N,{isOpen:g,onClose:P,title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",buttonText:"\u0414\u0430"}),Object(l.jsx)(v,{card:E,onClose:P}),Object(l.jsx)(h,{})]})};c.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(C,{})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.529a18cd.chunk.js.map